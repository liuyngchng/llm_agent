# config.yaml，文件格式必须严格遵循 yaml配置文件格式
sys:
    #  系统名称(title) 配置
    name: 文档生成
    #  是否启用认证， true， 登录后才能使用系统;false 无需登录
    auth: true
    #  自定义数据库配置时的权限认证 token
    cfg_tkn: foobar
    # 配置可访问的域， 防止跨域攻击
    allowed_origin: http://192,168.1.122
    # 对配置信息进行加密的密钥，长度必须为16/32
    cypher_key: abaababaabaababa
    # 在 debug 模式下定时任务将关闭，在生产环境下， debug_mode 必须设置为 false
    debug_mode: true
api:
    # 大语言模型 API 基地址
    llm_api_uri: https://api.deepseek.com/v1
    #  大语言模型 API key
    llm_api_key: 45678
    #  大语言模型 模型名称
    llm_model_name: deepseek-chat

    # embedding API 基地址
    embedding_api_uri: https://api.your_audio_service_provider.com/v1/
    # embedding API Key
    embedding_api_key: sk-xxxx
    # embedding model name
    embedding_model_name: bce-base

    # 是否为远程模式，true 表示使用远程模式，false 表示使用本地模式 ollama 接口
    is_remote: true

    # mermaid script render server addr
    mermaid_api_uri: http://127.0.0.1:8000

#  与大模型相关的提示词配置
prompts:

    # 文档目录自动生成
    gen_docx_outline_msg: |
        我正在撰写技术文档，需要生成一份 Markdown 格式的章节目录。

        【文档信息】
        - 文档标题：{doc_title}
        - 文档类型：{doc_type}
        - 核心主题：{keywords}
        
        【输出要求】
        1. **只输出目录内容**，不包含文档标题或其他说明文字
        2. **使用标准的 Markdown 标题语法**：
           - 一级标题：`# 1. 标题内容`
           - 二级标题：`## 1.1 标题内容`  
           - 三级标题：`### 1.1.1 标题内容`
        3. 目录结构为三级，包含 6-8 个主要章节
        4. 每个一级标题下应有 3-4 个二级标题
        5. 每个二级标题下应有 3-4 个三级标题
        
        【格式示例】
        # 1. 第一章标题
        ## 1.1 第一节标题
        ### 1.1.1 第一小节标题
        ### 1.1.2 第二小节标题
        ### 1.1.3 第三小节标题
        ## 1.2 第二节标题
        ### 1.2.1 第一小节标题
        ### 1.2.2 第二小节标题
        
        # 2. 第二章标题
        ## 2.1 第一节标题
        ### 2.1.1 第一小节标题
        ### 2.1.2 第二小节标题
        
        【特别注意】
        - 文档标题 "{doc_title}" 仅作为背景信息，**不要在输出中重复显示**
        - 目录直接从 `# 1.` 开始编号
        
        请为《{doc_title}》生成完整的目录结构：
        
        请直接输出纯文本格式的目录内容，无需包含任何分析过程或思考步骤。

    # 文本生成
    gen_txt_msg: |
        我正在编写技术文档，需要生成某个章节下的具体内容。
        
        文档背景：{write_context}
        文档目录：{catalogue}
        当前章节：{current_sub_title}
        段落要求：{paragraph_prompt}
        用户批注：{user_comment}
        参考资料：{references}
        
        请按以下要求生成内容：
        (1) 直接返回纯文本，不要额外说明，不要Markdown格式；
        (2) 格式适合Word文档，段落清晰；
        (3) 无明确字数要求时，控制在800字以内；
        (4) 参考但不复制参考资料；
        (5) 禁止空行，不包含分析过程；
        (6) 需要配图时提供规范的mermaid脚本，用<mermaid>包裹；
        (7) 不包含目录标题；
        (8) 文本与图表自然衔接，技术概念解释清晰；
        (9) 确保内容准确且符合技术文档标准。
        
        【Mermaid图表特别要求】：
        (10) 使用Mermaid官方标准语法，避免实验性功能；
        (11) 图表类型限于：flowchart流程图、sequenceDiagram时序图、classDiagram类图、stateDiagram状态图；
        (12) 每个图表节点标签用英文双引号包裹；
        (13) 避免使用特殊字符和复杂样式；
        (14) 流程图方向统一使用TD（从上到下）；
        (15) 确保图表语法简单明了，能在https://mermaid.live/ 正常解析；
        (16) 图表代码前添加简要说明，如：<!-- 系统架构流程图 -->；		

    gen_png_msg: |
        生成一个base64编码格式的 800*600 的PNG图片二进制流， 图片背景颜色为白色，图片线条为黑色
        图片内容如下：
        {img_content_desc}